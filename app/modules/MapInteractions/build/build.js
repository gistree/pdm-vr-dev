!function(){"use strict";angular.module("MapInteractionsModule",[])}(),function(){"use strict";function a(a){var b={interaction:"",interactionText:""};this.setMapInteraction=function(c){switch(a.map.getInteractions().pop(),c){case"DragPan":b.interactionText="Mover Mapa",a.map.addInteraction(new ol.interaction.DragPan);break;case"ZoomIn":b.interactionText="Aproximar Mapa",a.map.addInteraction(new ol.interaction.Pointer({handleDownEvent:function(b){var c=a.map.getView();c.setCenter(b.coordinate),c.setZoom(c.getZoom()+1)}}));break;case"ZoomOut":b.interactionText="Afastar Mapa",a.map.addInteraction(new ol.interaction.Pointer({handleDownEvent:function(b){var c=a.map.getView();c.setCenter(b.coordinate),c.setZoom(c.getZoom()-1)}}));break;case"ZoomBox":b.interactionText="Fazer Zoom de Caixa",a.map.addInteraction(new ol.interaction.DragZoom({condition:ol.events.condition.always,className:"drag_zoom_box"}))}b.interaction=c},this.getMapInteraction=function(){return b.interaction},this.getText=function(){return b.interactionText},this.setText=function(a){b.interactionText=a}}angular.module("MapInteractionsModule").service("MapInteractionsService",a),a.$inject=["MapService"]}(),function(){"use strict";function a(a,b,c,d){d.setMapInteraction("DragPan"),this.search=!1,this.isActive=function(a){return this.active==a},this.setDefaultView=function(a){c.setDefaultView()},this.setInteraction=function(a){d.setMapInteraction(a)},this.showMenu=function(){this.menuIsHidden=!1},this.showSearchBar=function(){this.search=!this.search},this.isSearch=function(){return!this.search},a.$watch(function(){return d.getMapInteraction()},function(b){a.itCtrl.active=b}),a.$watch("itCtrl.active",function(){a.itCtrl.currentInteraction=d.getText()}),a.$watch("itCtrl.menuIsHidden",function(){b(function(){c.map.updateSize()},10)})}angular.module("MapInteractionsModule").controller("MapInteractionsController",a),a.$inject=["$scope","$timeout","MapService","MapInteractionsService"]}(),function(){"use strict";function a(a){function b(b,c,d){a.map.addControl(new ol.control.MousePosition({coordinateFormat:function(a){return ol.coordinate.format(a," {x} , {y} ",4)},projection:"EPSG:4326",className:"",target:document.getElementById("coordinate4326"),undefinedHTML:"&nbsp;"})),a.map.addControl(new ol.control.MousePosition({coordinateFormat:function(a){return ol.coordinate.format(a," {x} , {y} ",4)},projection:ol.proj.get("EPSG:27493"),className:"",target:document.getElementById("coordinate27493"),undefinedHTML:"&nbsp;"}))}var c={bindToController:!0,controller:"MapInteractionsController",controllerAs:"itCtrl",link:b,restrict:"E",scope:{menuIsHidden:"="},templateUrl:"app/templates/MapInteractionsTemplate.html"};return c}angular.module("MapInteractionsModule").directive("mapInteractions",a),a.$inject=["MapService"]}();